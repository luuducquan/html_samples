<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.6/vue.min.js"></script>

<script type="text/x-template" id="tank-template">
	<svg :width="width" :height="height">
    	<rect :y="body_top" :width="width" :height="body_height" style="fill:rgb(0,0,255)" />
    	<rect :width="width" :height="height" style="fill:none; stroke-width:2;stroke:rgb(0,0,0)" />    
  	</svg>
</script>

<script>
Vue.component('tank', {
  props: ['level', 'width', 'height'],
  template: '#tank-template',
  computed: {    
    body_top: function () { return this.height*(1-this.level/100) | 0 },
    body_height : function() { return this.height * this.level/100 | 0 }
  }
})
</script>

<body>
	<div id="demo">  
	  <tank :width="50" :height="200" :level="level" ref="tank1"></tank>
	  <input type="range" v-model="level" min="0" max="100">
	  <button type="button" v-on:click="change(-1)">Down</button>
	  <button type="button" v-on:click="change(1)">Up</button>
	</div>	
</body>

<script>
new Vue({
  el: '#demo',
  data: {    
    level: 80
  },
  methods: {
    change : function(direction) { 
		var tank1 = this.$refs['tank1'];
		var diff = direction > 0? 10 : -10;
		var level = tank1.level + diff;
		if(level < 0) level = 0;
		if(level > 100) level = 100;
		this.level = tank1.level = level;
	}
  }
})
</script>
